package ir.asta.training.contacts.dao;

import java.util.List;
import javax.inject.Named;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;

import ir.asta.training.contacts.entities.CaseEntity;
import models.Roles;

@Named("caseDao")
public class CaseDao {
	@PersistenceContext
	private EntityManager entityManager;
	
	public boolean save(CaseEntity casee){
		if(!entityManager.contains(casee)){
			entityManager.persist(casee);
			return true;
		}
		else{
			return false;
		}
	}
	
	public Boolean deleteCaseById(Long id){
		Query q = entityManager.createQuery("DELETE CaseEntity c where c.id = :id");
		q.setParameter("id", id);
		int count = q.executeUpdate();
		return count == 1;
	}
}
